<GuiXml>
   <Controls>
      <TopLevelControl name="ItemTrig_OpcodeEdit"
         mouseEnabled="true"
         movable="true"
         clampedToScreen="true"
         hidden="true"
      >
         <Dimensions x="500" y="300" />
         <DimensionConstraints minX="400" minY="200" />
         <Anchor point="CENTER" />
         <OnInitialized> ItemTrig.OpcodeEditWindow:OnInitialized(self) </OnInitialized>
         <Controls>
            <Backdrop name="$(parent)Bg" inherits="ZO_DefaultBackdrop" />
            <Control name="$(parent)Header" resizeToFitDescendents="true">
               <Anchor point="TOPLEFT" />
               <Anchor point="TOPRIGHT" />
               <Controls>
                  <Label name="$(parent)Title" text="Edit opcode..." font="ZoFontWinT1">
                     <Anchor point="TOPLEFT" />
                     <Anchor point="TOPRIGHT" />
                  </Label>
                  <Texture name="$(parent)Rule" color="808080" tier="HIGH">
                     <Dimensions y="1.5"/>
                     <Anchor point="TOPLEFT"  relativeTo="$(parent)Title" relativePoint="BOTTOMLEFT" />
                     <Anchor point="TOPRIGHT" relativeTo="$(parent)Title" relativePoint="BOTTOMRIGHT" />
                  </Texture>
               </Controls>
            </Control>
            <Control name="$(parent)Row1">
               <Anchor point="TOPLEFT"  offsetY="5" relativeTo="$(parent)Header" relativePoint="BOTTOMLEFT" />
               <Anchor point="TOPRIGHT" offsetY="5" relativeTo="$(parent)Header" relativePoint="BOTTOMRIGHT" />
               <OnInitialized>
                  ItemTrig.fitHeightToChildren(self)
               </OnInitialized>
               <Controls>
                  <Label text="Type:" font="ZoFontWinT1">
                     <Anchor point="TOPLEFT"  offsetX="5" offsetY="5" />
                  </Label>
                  <Control name="ItemTrig_OpcodeEdit_Opcode" inherits="ZO_ScrollableComboBox">
                     <Anchor point="TOPLEFT"  offsetX="120" offsetY="5" />
                     <Anchor point="TOPRIGHT" offsetY="5" />
                  </Control>
               </Controls>
            </Control>
            <Control name="$(parent)Bottom">
               <Anchor point="BOTTOMLEFT" />
               <Anchor point="BOTTOMRIGHT" />
               <OnInitialized>
                  ItemTrig.fitHeightToChildren(self)
               </OnInitialized>
               <Controls>
                  <Button inherits="ZO_DefaultButton" name="$(parent)OK" text="OK">
                     <Anchor point="BOTTOMRIGHT" />
                     <OnClicked>
                     </OnClicked>
                  </Button>
                  <Button inherits="ZO_DefaultButton" name="$(parent)Cancel" text="Cancel">
                     <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)OK" relativePoint="BOTTOMLEFT" offsetX="-8" />
                     <OnClicked>
                        local editor = ItemTrig.OpcodeEditWindow
                        if editor:requestExit() then
                           editor:abandon()
                        end
                     </OnClicked>
                  </Button>
               </Controls>
            </Control>
            <Control> <!-- body -->
               <Anchor point="TOPLEFT"     offsetY="5"  relativeTo="$(parent)Row1"   relativePoint="BOTTOMLEFT" />
               <Anchor point="BOTTOMRIGHT" offsetY="-5" relativeTo="$(parent)Bottom" relativePoint="TOPRIGHT" />
               <Controls>
                  <Backdrop name="$(parent)Bg" inherits="ZO_ThinBackdrop" />
                  <Label name="ItemTrig_OpcodeEdit_OpcodeBody" text="" font="ZoFontWinT1">
                     <Anchor point="TOPLEFT" />
                     <Anchor point="TOPRIGHT" />
                     <!-- TODO: How can we make parts of the text clickable?
                          Can we use custom link types? Even if we can, how 
                          do we get widgets (e.g. dropdown boxes) to appear 
                          inline with the text? Unless we just shouldn't? -->
                  </Label>
               </Controls>
            </Control>
         </Controls>
      </TopLevelControl>
   </Controls>
</GuiXml>