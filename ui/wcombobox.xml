<GuiXml>
   <Controls>
      <Control name="ItemTrig_UITemplate_WComboboxItem" virtual="true" inherits="ItemTrig_UITemplate_WScrollSelectListItem">
         <Dimensions y="42" />
         <OnMouseEnter>
            local combobox = ItemTrig.UI.WCombobox:fromItem(self)
            if combobox then
               combobox:_onItemMouseEnter(self)
            end
         </OnMouseEnter>
         <OnMouseExit>
            local combobox = ItemTrig.UI.WCombobox:fromItem(self)
            if combobox then
               combobox:_onItemMouseExit(self)
            end
         </OnMouseExit>
         <Controls>
            <Texture name="$(parent)Back" excludeFromResizeToFitExtents="true">
               <AnchorFill />
            </Texture>
            <Label name="$(parent)Text" font="ITEMTRIG_FONT_BASIC" wrapMode="ELLIPSIS" maxLineCount="1">
               <Anchor point="LEFT"  offsetX="7" />
               <Anchor point="RIGHT" offsetX="-7" />
            </Label>
         </Controls>
      </Control>
      <Control name="ItemTrig_UITemplate_WCombobox" virtual="true">
         <Dimensions x="140" y="42" />
         <OnInitialized> ItemTrig.UI.WCombobox:install(self) </OnInitialized>
         <OnMouseUp>
            local combobox = ItemTrig.UI.WCombobox:cast(self)
            if combobox.state._preventBubble then
               combobox.state._preventBubble = false
               return
            end
            PlaySound(SOUNDS.COMBO_CLICK)
            combobox:open()
         </OnMouseUp>
         <Controls>
            <Texture name="$(parent)Bg" excludeFromResizeToFitExtents="true">
               <AnchorFill />
            </Texture>
            <Label name="$(parent)SelectedItemText" font="ITEMTRIG_FONT_BASIC" wrapMode="ELLIPSIS" verticalAlignment="CENTER">
               <Anchor point="TOPLEFT"     offsetX="7" />
               <Anchor point="BOTTOMRIGHT" offsetX="-20" />
            </Label>
            <Button name="$(parent)OpenButton" inherits="ZO_DropdownButton">
               <Dimensions x="16" y="16" />
               <Anchor point="RIGHT" offsetX="-3" />
               <OnClicked>
                  local combobox = ItemTrig.UI.WCombobox:cast(self:GetParent())
                  combobox.state._preventBubble = true
                  combobox:toggle()
               </OnClicked>
            </Button>
            <Control name="$(parent)Contents" mouseEnabled="true" tier="HIGH" hidden="true">
               <Anchor point="TOPLEFT"  relativePoint="BOTTOMLEFT" />
               <Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" />
               <Controls>
                  <Texture name="$(parent)Bg" excludeFromResizeToFitExtents="true">
                     <AnchorFill />
                  </Texture>
                  <Control name="$(parent)ScrollPane" inherits="ItemTrig_UITemplate_WScrollSelectList">
                      <Anchor point="TOPLEFT"     offsetY="2" />
                      <Anchor point="BOTTOMRIGHT" offsetY="-2" />
                  </Control>
               </Controls>
            </Control>
         </Controls>
      </Control>
   </Controls>
</GuiXml>
